{
  "name": "express-enrouten",
  "version": "1.2.1",
  "description": "An express route initialization and configuration module.",
  "main": "index.js",
  "scripts": {
    "test": "tape test/*.js",
    "cover": "istanbul cover tape -- test/*.js",
    "lint": "jshint -c .jshintrc index.js lib/*.js"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/krakenjs/express-enrouten.git"
  },
  "publishConfig": {
    "registry": "https://registry.npmjs.org"
  },
  "keywords": [
    "expressjs",
    "node",
    "js",
    "javascript",
    "routing"
  ],
  "author": {
    "name": "Erik Toth",
    "email": "ertoth@paypal.com"
  },
  "licenses": [
    {
      "type": "Apache 2.0",
      "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
    }
  ],
  "devDependencies": {
    "express": "^4.10.3",
    "istanbul": "^0.3.2",
    "jshint": "^2.5.10",
    "supertest": "^0.15.0",
    "tape": "^3.0.3"
  },
  "dependencies": {
    "caller": "^1.0.0",
    "debuglog": "^1.0.1",
    "path-to-regexp": "^1.1.1"
  },
  "readme": "express-enrouten\n==================\n\nLead Maintainer: [Jean-Charles Sisk](https://github.com/jasisk)\n\n[![Build Status](https://travis-ci.org/krakenjs/express-enrouten.svg?branch=master)](https://travis-ci.org/krakenjs/express-enrouten)   \n[![NPM version](https://badge.fury.io/js/express-enrouten.png)](http://badge.fury.io/js/express-enrouten)  \n\nRoute configuration middleware for expressjs.\n\nNote: `express-enrouten >=1.0` is only compatible with `express >=4.0`.\nFor `express 3.x` support, please use `express-enrouten 0.3.x`.\n\n\n### API\n#### `app.use(enrouten(options))`\n```javascript\nvar express = require('express'),\n    enrouten = require('express-enrouten');\n\nvar app = express();\napp.use(enrouten({ ... }));\n// or app.use('/foo', enrouten({ ... }));\n```\n\n\n### Configuration\nexpress-enrouten supports routes via configuration and convention.\n```javascript\napp.use(enrouten({ directory: 'routes' }));\n```\n\n#### directory\nThe `directory` configuration option (optional) is the path to a directory.\nSpecify a directory to have enrouten scan all files recursively to find files\nthat match the controller-spec API. With this API, the directory structure\ndictates the paths at which handlers will be mounted.\n\n```text\ncontrollers\n |-user\n     |-create.js\n     |-list.js\n```\n```javascript\n// create.js\nmodule.exports = function (router) {\n    router.post('/', function (req, res) {\n        res.send('ok');\n    });\n};\n```\n```javascript\napp.use(enrouten({\n    directory: 'controllers'\n}));\n```\nRoutes are now:\n```test\n/user/create\n/user/list\n```\n\n#### index\nThe `index` configuration option (optional) is the path to the single file to\nload (which acts as the route 'index' of the application).\n```javascript\napp.use(enrouten({\n    index: 'routes/'\n}));\n```\n```javascript\n// index.js\nmodule.exports = function (router) {\n\n    router.get('/', index);\n    router.all(passport.protect).get('/account', account);\n\n    // etc...\n};\n```\n\n#### routes\nThe `routes` configuration option (optional) is an array of route definition objects.\nEach definition must have a `path` and `handler` property and can have an optional\n`method` property (`method` defaults to 'GET').\n\nOptionally, a `middleware` property can be provided to specify an array of middleware `functions`\n(with typical `req`, `res` and `next` arguments) for that specific route.\n\nNote that a `handler` has a different function signature than a `controller`. While a\n`controller` takes a single argument (a `router`), a `handler` takes the typical\n`req` and `res` pair.\n\n```javascript\napp.use(enrouten({\n    routes: [\n        { path: '/',    method: 'GET', handler: require('./routes/index') },\n        { path: '/foo', method: 'GET', handler: require('./routes/foo') },\n        { path: '/admin', method: 'GET', handler: require('./routes/foo'), middleware: [isAuthenticated] }\n    ]\n}));\n```\n\n#### routerOptions\nThe `routerOptions` configuration option (optional) allows additional options to be\nspecified on each Router instance created by `express-enrouten`. Please see the\n[Express API documentation](http://expressjs.com/4x/api.html#router) for complete\ndocumentation on each possible option.\n\n```javascript\napp.set('case sensitive routing', true);\napp.use(enrouten({\n    directory: 'controllers',\n    routerOptions: {\n        caseSensitive: true\n    }\n}));\n```\n\n\n### Named Routes\nFor `index` and `directory` configurations there is also support for named routes.\nThe normal express router that is passed in will always behave as such, but in addition\nit can be used to name a route, adding the name and path to `app.locals.enrouten.routes`.\nFor example:\n```javascript\n'use strict';\n\nmodule.exports = function (router) {\n\n    router({ path: '/user/:id', name: 'user-info' })\n        .get(function (req, res) {\n            res.send('ok');\n        });\n\n};\n```\n\n\n### Controller Files\nA 'controller' is defined as any `require`-able file which exports a function\nthat accepts a single argument. Any files with an extension of `.js` (or `.coffee`\nif CoffeeScript is registered) will be loaded and if it exports a function that\naccepts a single argument then this function will be called. **NOTE: Any file in\nthe directory tree that matches the API will be invoked/initialized with the\nexpress router object.**\n\n```javascript\n// Good :)\n// controllers/controller.js\nmodule.exports = function (router) {\n    router.get('/', function (req, res) {\n        // ...\n    });\n};\n\n// Bad :(\n// Function does not get returned when `require`-ed, use `module.exports`\nexports = function (router) {\n    // ...\n};\n\n// Bad :(\n// controllers/other-file-in-same-controller-directory.js\nmodules.exports = function (config) {\n    // `config` will be an express Router\n    // ...\n};\n\n// Acceptable :)\n// controllers/config.json - A non-js file (ignored)\n// controllers/README.txt - A non-js file (ignored)\n// controllers/util.js - A js file that has a different API than the spec (ignored)\nmodule.exports = {\n    importantHelper: function () {\n\n    }\n};\n```\n\n## Linting\n```bash\n$ npm run-script lint\n```\n\n## Tests\n```bash\n$ npm test\n```\n\n## Coverage\n```bash\n$ npm run-script cover && open coverage/lcov-report/index.html\n```\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/krakenjs/express-enrouten/issues"
  },
  "homepage": "https://github.com/krakenjs/express-enrouten",
  "_id": "express-enrouten@1.2.1",
  "_shasum": "49d536ce25765f6fb82f221e3538de57a784c393",
  "_from": "express-enrouten@^1.0.0",
  "_resolved": "https://registry.npmjs.org/express-enrouten/-/express-enrouten-1.2.1.tgz"
}
